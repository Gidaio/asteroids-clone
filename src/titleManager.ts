import Animator from "./animator.js"
import Entity from "./entity.js"
import type { Input } from "./input.js"
import LevelManager from "./levelManager.js"
import type { Sprite } from "./types.js"


const TITLE_SPRITE: Sprite = {
	drawRadius: 1,
	points: [
		[
			-0.8768536343217641,
			2.9154759474226504,
			false
		],
		[
			-0.8128329581890013,
			3.2449961479175906
		],
		[
			-0.7991211920010649,
			3.2202484376209237
		],
		[
			-0.7868473034174359,
			3.0610455730027932
		],
		[
			-0.7886275414898551,
			2.9206163733020465
		],
		[
			-0.8580001934898677,
			2.5495097567963922
		],
		[
			-0.8385855327829048,
			3.0886890422961004,
			false
		],
		[
			-0.8160481002201555,
			2.745906043549196
		],
		[
			-0.8464112479792296,
			2.3706539182259396,
			false
		],
		[
			-0.8253913021397861,
			2.1095023109728985
		],
		[
			-0.8043467057322626,
			2.080865204668481
		],
		[
			-0.7807085563980899,
			2.202271554554524
		],
		[
			-0.7788579383763046,
			2.3430749027719964
		],
		[
			-0.7951672353008665,
			2.5
		],
		[
			-0.7927558429000922,
			2.6400757564888173
		],
		[
			-0.7744372519721974,
			2.7658633371878665
		],
		[
			-0.7581600039688102,
			2.758622844826744
		],
		[
			-0.7323342771118654,
			2.5495097567963922
		],
		[
			-0.7127231288457948,
			2.420743687382041,
			false
		],
		[
			-0.6670476823436803,
			2.195449840010015
		],
		[
			-0.6910019151324714,
			2.3021728866442674,
			false
		],
		[
			-0.7764646760595899,
			1.7029386365926402
		],
		[
			-0.5819086824248375,
			1.96468827043885,
			false
		],
		[
			-0.6408120885663706,
			2.1023796041628637
		],
		[
			-0.7182744825694465,
			1.4212670403551897
		],
		[
			-0.6357997487800919,
			1.2083045973594573
		],
		[
			-0.6720208696226306,
			1.7492855684535902,
			false
		],
		[
			-0.6211189415908435,
			1.6155494421403511
		],
		[
			-0.5847506594614321,
			1.140175425099138,
			false
		],
		[
			-0.5498479256383133,
			1.9235384061671343
		],
		[
			-0.5,
			1.9
		],
		[
			-0.48233427711186533,
			1.8027756377319946
		],
		[
			-0.4801314756944592,
			1.6031219541881399
		],
		[
			-0.5,
			1.5
		],
		[
			-0.5628329581890013,
			1.5297058540778354
		],
		[
			-0.5,
			1.5,
			false
		],
		[
			-0.4773021290001396,
			1.40356688476182
		],
		[
			-0.47114206162369554,
			1.104536101718726
		],
		[
			-0.43395189977984455,
			1.9416487838947598,
			false
		],
		[
			-0.4474315432887466,
			1.8248287590894658
		],
		[
			-0.42202086962263075,
			1.2369316876852983
		],
		[
			-0.3889827415450001,
			1.1704699910719625
		],
		[
			-0.3410530018557488,
			1.252996408614167
		],
		[
			-0.33190868242483745,
			1.3892443989449805
		],
		[
			-0.381941636071482,
			1.9313207915827966
		],
		[
			-0.4026357312570952,
			1.9924858845171274
		],
		[
			-0.43395189977984455,
			1.9416487838947598
		],
		[
			-0.3591879114336295,
			2.1023796041628637,
			false
		],
		[
			-0.30899808486752856,
			2.3021728866442674
		],
		[
			-0.3329523176563198,
			2.195449840010015,
			false
		],
		[
			-0.25,
			1.5556349186104046
		],
		[
			-0.2817255174305536,
			1.4212670403551897,
			false
		],
		[
			-0.22353532394041012,
			1.7029386365926402
		],
		[
			-0.2872768711542052,
			2.420743687382041,
			false
		],
		[
			-0.2014102096524711,
			1.8601075237738274
		],
		[
			-0.174608697860214,
			2.1095023109728985
		],
		[
			-0.17930913508098684,
			2.247220505424423
		],
		[
			-0.24139912389456686,
			2.6172504656604803
		],
		[
			-0.2586008761054332,
			2.6172504656604803
		],
		[
			-0.2872768711542052,
			2.420743687382041
		],
		[
			-0.20686018878652596,
			3.1400636936215163,
			false
		],
		[
			-0.22675046597156437,
			2.906888370749727
		],
		[
			-0.2255627480278026,
			2.7658633371878665
		],
		[
			-0.20724415709990793,
			2.6400757564888173
		],
		[
			-0.19048264987338312,
			2.6627053911388696
		],
		[
			-0.17780768448935277,
			2.8301943396169813
		],
		[
			-0.16249347964748317,
			2.8653097563788803
		],
		[
			-0.14245003235725157,
			2.773084924772409
		],
		[
			-0.1367975821453534,
			2.640075756488817
		],
		[
			-0.15358875202077044,
			2.3706539182259396
		],
		[
			-0.9780822987275691,
			2.9068883707497264,
			false
		],
		[
			-0.989028144383989,
			2.9017236257093817
		],
		[
			-0.9872743886520082,
			2.5019992006393608,
			false
		],
		[
			-0.9877633435457456,
			2.6019223662515376
		],
		[
			1,
			2.7
		],
		[
			0.9745893263338841,
			2.5079872407968904
		],
		[
			0.9634336408045666,
			2.6172504656604803
		],
		[
			0.9647767125227228,
			2.716615541441225
		],
		[
			0.9587144001601527,
			2.3194827009486403,
			false
		],
		[
			-0.9861691504333381,
			2.3021728866442674
		],
		[
			-0.9855413210972233,
			2.202271554554524
		],
		[
			1,
			2.1
		],
		[
			0.9855413210972233,
			2.202271554554524
		],
		[
			0.9861691504333381,
			2.3021728866442674
		],
		[
			0.9501520743616867,
			1.9235384061671343,
			false
		],
		[
			1,
			1.9
		],
		[
			-0.9823342771118654,
			1.8027756377319946
		],
		[
			1,
			1.7
		],
		[
			0.9444001122142149,
			1.7262676501632068
		],
		[
			0.9832622916434259,
			1.9026297590440446,
			false
		],
		[
			0.9812974407587233,
			1.70293863659264
		],
		[
			-0.9755627480278026,
			1.3038404810405297,
			false
		],
		[
			-0.9773021290001396,
			1.40356688476182
		],
		[
			1,
			1.5
		],
		[
			0.9578075368411587,
			1.5132745950421556
		],
		[
			0.9328069051277106,
			1.4317821063276353
		],
		[
			0.9278076844893528,
			1.3341664064126335
		],
		[
			-0.9647767125227228,
			0.9055385138137417,
			false
		],
		[
			-0.9711420616236955,
			1.104536101718726
		],
		[
			0.915249340538568,
			1.140175425099138
		],
		[
			0.8975836176504333,
			0.9486832980505138
		],
		[
			0.9711420616236955,
			1.104536101718726,
			false
		],
		[
			0.9682744825694465,
			1.004987562112089
		],
		[
			-0.9114144672170952,
			0.7280109889280517,
			false
		],
		[
			-0.9548327646991335,
			0.7071067811865475
		],
		[
			-0.8975836176504333,
			0.31622776601683794,
			false
		],
		[
			-0.75,
			0.14142135623730953
		],
		[
			-0.8524163823495667,
			0.223606797749979,
			false
		],
		[
			0.687167041810999,
			0.36055512754639896
		],
		[
			-0.14758361765043326,
			0.223606797749979,
			false
		],
		[
			0,
			0.1
		],
		[
			0.35241638234956674,
			0.223606797749979
		],
		[
			0.3128329581890012,
			0.36055512754639896
		],
		[
			0.18716704181099886,
			0.36055512754639896
		],
		[
			0,
			0.3
		],
		[
			-0.14758361765043326,
			0.223606797749979
		],
		[
			-0.03522328747727728,
			0.9055385138137417,
			false
		],
		[
			-0.039583424160565546,
			0.806225774829855
		],
		[
			0,
			0.7
		],
		[
			0.06960448727306395,
			0.9219544457292888
		],
		[
			0.11420025121990814,
			0.8544003745317532
		],
		[
			0.12888105840915662,
			0.7615773105863908
		],
		[
			-0.028857938376304477,
			1.104536101718726,
			false
		],
		[
			-0.024437251972197403,
			1.3038404810405297
		],
		[
			-0.026464676059589878,
			1.2041594578792296,
			false
		],
		[
			0.07797913037736932,
			1.2369316876852983
		],
		[
			0.06283295818900118,
			1.5297058540778354,
			false
		],
		[
			0,
			1.5
		],
		[
			-0.01986852430554084,
			1.6031219541881399
		],
		[
			0,
			1.7
		],
		[
			0.05559988778578522,
			1.7262676501632068
		],
		[
			0.021189304634946414,
			1.5033296378372907,
			false
		],
		[
			0.018702559241276676,
			1.70293863659264
		],
		[
			0.0498479256383133,
			1.9235384061671343,
			false
		],
		[
			-0.01673770835657411,
			1.9026297590440446
		],
		[
			-0.015902251256176378,
			2.0024984394500787
		],
		[
			0,
			2.1
		],
		[
			0.015902251256176378,
			2.0024984394500787
		],
		[
			0.01673770835657411,
			1.9026297590440446
		],
		[
			0.015902251256176378,
			2.0024984394500787,
			false
		],
		[
			0.03022406683891948,
			2.1095023109728985
		],
		[
			0.04516723530086655,
			2.1213203435596424
		],
		[
			-0.013830849566661979,
			2.3021728866442674,
			false
		],
		[
			-0.012725611347991833,
			2.5019992006393608
		],
		[
			-0.013255244613271183,
			2.4020824298928627,
			false
		],
		[
			0.039583424160565546,
			2.4186773244895647
		]
	]
}


export default class TitleManager extends Entity {
	public readonly TYPE = "TITLE_MANAGER"
	public readonly COLLISION_RADIUS = 0

	public animator = new Animator(
		{
			default: {
				framesPerSecond: 0,
				frames: [TITLE_SPRITE]
			}
		},
		"default"
	)

	public onUpdate(delta: number, input: Input): void {
		if (input.isButtonDown("shoot")) {
			this._game.destroyEntity(this)
			this._game.instantiateEntity(LevelManager)
		}
	}
}
